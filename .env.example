# Superego MCP Server - Production Environment Configuration Template
# Copy this file to .env and customize for your deployment

# =============================================================================
# CORE SERVER CONFIGURATION
# =============================================================================

# Server host and port configuration
SUPEREGO_HTTP_PORT=80
SUPEREGO_HTTPS_PORT=443
SUPEREGO_DOMAIN=superego.local

# Logging and debug settings
SUPEREGO_LOG_LEVEL=info
SUPEREGO_DEBUG=false

# =============================================================================
# AI PROVIDER CONFIGURATION
# =============================================================================

# Primary AI provider (anthropic, openai, or azure)
SUPEREGO_AI_PROVIDER=anthropic

# Anthropic Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here
SUPEREGO_AI_MODEL=claude-3-haiku-20240307

# OpenAI Configuration (alternative)
# OPENAI_API_KEY=your_openai_api_key_here
# SUPEREGO_AI_MODEL=gpt-4

# Azure OpenAI Configuration (alternative)
# AZURE_OPENAI_API_KEY=your_azure_api_key_here
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_VERSION=2024-02-01
# SUPEREGO_AI_MODEL=gpt-4

# AI Service Performance Settings
SUPEREGO_AI_TIMEOUT=30
SUPEREGO_AI_MAX_RETRIES=3
SUPEREGO_AI_RATE_LIMIT=100

# =============================================================================
# PERFORMANCE AND SCALING
# =============================================================================

# Worker and request configuration
SUPEREGO_WORKERS=1
SUPEREGO_MAX_REQUESTS=1000
SUPEREGO_REQUEST_TIMEOUT=60
SUPEREGO_KEEPALIVE_TIMEOUT=5

# Memory and resource limits
SUPEREGO_MAX_MEMORY=2G
SUPEREGO_MAX_CPU=2.0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Authentication
SUPEREGO_API_KEY=your_secure_api_key_here

# CORS settings (comma-separated origins)
SUPEREGO_CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Rate limiting
SUPEREGO_RATE_LIMIT_ENABLED=true
SUPEREGO_RATE_LIMIT_REQUESTS=100
SUPEREGO_RATE_LIMIT_WINDOW=60

# TLS/SSL Configuration
SUPEREGO_TLS_ENABLED=false
SUPEREGO_TLS_CERT=/path/to/cert.pem
SUPEREGO_TLS_KEY=/path/to/key.pem

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Metrics and health checks
SUPEREGO_METRICS_ENABLED=true
SUPEREGO_TRACING_ENABLED=false

# Prometheus configuration
PROMETHEUS_RETENTION=30d
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_in_production
GRAFANA_PLUGINS=

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

# Redis connection settings
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# Redis persistence settings
REDIS_SAVE_ENABLED=true
REDIS_AOF_ENABLED=true

# =============================================================================
# NGINX REVERSE PROXY CONFIGURATION
# =============================================================================

# Nginx performance settings
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_CLIENT_MAX_BODY_SIZE=100M

# SSL/TLS settings for Nginx
NGINX_SSL_PROTOCOLS=TLSv1.2 TLSv1.3
NGINX_SSL_CIPHERS=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256

# =============================================================================
# FILE PATHS AND VOLUMES
# =============================================================================

# Custom configuration file paths (optional)
SUPEREGO_CONFIG_FILE=./config/server.yaml
SUPEREGO_RULES_FILE=./config/rules.yaml

# TLS certificate paths (if using custom certificates)
# SUPEREGO_TLS_CERT=./certs/server.crt
# SUPEREGO_TLS_KEY=./certs/server.key

# Redis configuration file path (optional)
# REDIS_CONFIG_FILE=./config/redis.conf

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development mode settings (set to false in production)
SUPEREGO_DEV_MODE=false
SUPEREGO_HOT_RELOAD=false

# Testing configuration
SUPEREGO_TEST_MODE=false
SUPEREGO_TEST_AI_RESPONSES=false

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance

# =============================================================================
# CUSTOM EXTENSIONS AND PLUGINS
# =============================================================================

# Custom rule engine settings
SUPEREGO_CUSTOM_RULES_ENABLED=true
SUPEREGO_RULES_CACHE_TTL=300

# Plugin configuration
SUPEREGO_PLUGINS_ENABLED=false
SUPEREGO_PLUGINS_PATH=./plugins

# Webhook configuration
SUPEREGO_WEBHOOKS_ENABLED=false
SUPEREGO_WEBHOOK_TIMEOUT=10
SUPEREGO_WEBHOOK_RETRIES=3

# =============================================================================
# DOCKER AND DEPLOYMENT SPECIFIC
# =============================================================================

# Container versioning
SUPEREGO_VERSION=latest
DOCKER_REGISTRY=ghcr.io/toolprint

# Health check configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s

# Resource constraints
MEMORY_LIMIT=2G
CPU_LIMIT=2.0
MEMORY_RESERVATION=512M
CPU_RESERVATION=0.5

# =============================================================================
# LOGGING AND LOG AGGREGATION
# =============================================================================

# Log level and formatting
LOG_FORMAT=json
LOG_ROTATION_SIZE=100M
LOG_ROTATION_FILES=5

# Loki configuration (for centralized logging)
LOKI_URL=http://loki:3100
LOKI_RETENTION=30d

# Promtail configuration
PROMTAIL_ENABLED=true
PROMTAIL_SCRAPE_CONFIGS=/etc/promtail/config.yml

# =============================================================================
# ENVIRONMENT SPECIFIC SETTINGS
# =============================================================================

# Environment identifier
ENVIRONMENT=production
DEPLOYMENT_DATE=
DEPLOYMENT_VERSION=

# Geographic and regulatory settings
TIMEZONE=UTC
LOCALE=en_US.UTF-8
GDPR_COMPLIANCE=true
DATA_RESIDENCY=US

# =============================================================================
# QUICK START CONFIGURATIONS
# =============================================================================

# Uncomment one of the following preset configurations:

# --- MINIMAL DEPLOYMENT ---
# SUPEREGO_LOG_LEVEL=info
# SUPEREGO_METRICS_ENABLED=false
# SUPEREGO_AI_PROVIDER=anthropic
# REDIS_SAVE_ENABLED=false

# --- DEVELOPMENT TESTING ---
# SUPEREGO_LOG_LEVEL=debug
# SUPEREGO_DEBUG=true
# SUPEREGO_DEV_MODE=true
# SUPEREGO_TEST_AI_RESPONSES=true

# --- HIGH AVAILABILITY ---
# SUPEREGO_WORKERS=4
# SUPEREGO_MAX_REQUESTS=2000
# REDIS_MAX_CONNECTIONS=50
# NGINX_WORKER_CONNECTIONS=2048
# PROMETHEUS_RETENTION=90d

# --- SECURE PRODUCTION ---
# SUPEREGO_TLS_ENABLED=true
# SUPEREGO_RATE_LIMIT_ENABLED=true
# SUPEREGO_API_KEY=your_very_secure_key
# NGINX_SSL_PROTOCOLS=TLSv1.3
# BACKUP_ENABLED=true